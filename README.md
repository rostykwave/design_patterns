# design_patterns

## Proxy

1. description

- “Замісник”
- Дає змогу підставляти замість реальних об’єктів спеціальні об’єкти-замінники.
- Ці об’єкти перехоплюють виклики до оригінального об’єкта, дозволяючи зробити
  щось до чи після передачі виклику оригіналові

2. implementation

- Інтерфейс Subject оголошує загальні операції як для RealSubject, так і для
  Proxy. Поки клієнт працює з RealSubject за допомогою цього інтерфейсу, ви
  зможете передати йому проксі замість реального суб’єкта.
- RealSubject містить деяку основну бізнес-логіку. Зазвичай RealSubjects здатні
  виконувати певну корисну роботу, яка також може бути дуже повільною або
  чутливою - напр. коригування вхідних даних. Проксі-сервер може вирішити ці
  проблеми без будь-яких змін у коді RealSubject.
- Проксі має інтерфейс, ідентичний RealSubject.
- Проксі підтримує посилання на об’єкт класу RealSubject. Він може бути або
  відкладено завантажений, або переданий до проксі клієнтом.
- Найпоширенішими застосуваннями шаблону проксі є відкладене завантаження,
  кешування, контроль доступу, журналювання тощо. Проксі може виконувати одну з
  цих дій, а потім, залежно від результату, передати виконання тому самому
  методу у зв’язаному об’єкті RealSubject .
- Передбачається, що код клієнта працюватиме з усіма об’єктами (як суб’єктами,
  так і проксі) через інтерфейс Subject, щоб підтримувати як реальні суб’єкти,
  так і проксі. Однак у реальному житті клієнти здебільшого працюють
  безпосередньо зі своїми реальними суб’єктами. У цьому випадку, щоб легше
  реалізувати шаблон, ви можете розширити свій проксі з реального класу
  предмета.

3. usecases

- Приклад: Проксі між БД і клієнтами. Замісник “прикидається” бд, прискорюючи
  роботу внаслідок ледачої ініціалізації і кешування запитів, що повторюються.
  Проміжну логіка: контроль доступу, кешування, зміна запиту.
- Приклад: додавання до програми механізму ледачої ініціалізації та кешування
  результатів роботи бібліотеки інтеграції з YouTube.
- Лінива ініціалізація (віртуальний проксі). Коли у вас є важкий об’єкт, який
  завантажує дані з файлової системи або бази даних
- Захист доступу.
- Локальний запуск сервісу (віддалений проксі). Коли справжній сервісний об’єкт
  знаходиться на віддаленому сервері. У цьому випадку замісник транслює запити
  клієнта у виклики через мережу по протоколу, який є зрозумілим віддаленому
  сервісу
- Логування запитів (логуючий проксі)
- Кешування об’єктів (”розумне” посилання). Коли потрібно кешувати результати
  запитів клієнтів і керувати їхнім життєвим циклом.
